services:
  notes_app:
    container_name: notes_app
    image: eniek/notes
    networks:
      - notes
    depends_on:
      - notes_db
    ports:
      - 3000:3000
    environment:
      # The origin of where you will be accessing this website from
      - ORIGIN=http://localhost:3000
      - DB_HOST=notes_db
      - DB_PORT=3306
      - DB_DATABASE=notes
      - DB_USER=notes
      - DB_PASSWORD=notesdb1234
  notes_db:
    container_name: notes_db
    image: mysql
    networks:
      - notes
    environment:
      - MYSQL_ROOT_USER=root
      - MYSQL_ROOT_PASSWORD=verysecretpassword1234
      - MYSQL_DATABASE=notes
      - MYSQL_USER=notes
      - MYSQL_PASSWORD=notesdb1234
    volumes:
      # Make sure that init.sql is in the same folder as docker-compose.yml
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql

networks:
  notes: